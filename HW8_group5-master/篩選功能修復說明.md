# ç¯©é¸åŠŸèƒ½ä¿®å¾©èªªæ˜

## å•é¡Œæè¿°
åŠŸèƒ½ç¯©é¸å‹¾é¸å¾Œæ²’æœ‰é¡¯ç¤ºçµæœã€‚

## å•é¡ŒåŸå› 
å‰ç«¯çš„ `search.js` åœ¨å‘¼å« API æ™‚ï¼Œæ²’æœ‰æ­£ç¢ºè™•ç†ç¯©é¸åƒæ•¸ï¼š
1. ç•¶æœ‰ç¯©é¸åƒæ•¸æ™‚ï¼Œæ‡‰è©²å‘¼å« `/api/search/advanced` è€Œä¸æ˜¯ `/api/search`
2. åƒæ•¸åç¨±ä¸æ­£ç¢ºï¼šæ‡‰è©²æ˜¯ `keyword` è€Œä¸æ˜¯ `q`ï¼Œ`districts` è€Œä¸æ˜¯ `district`

## å·²ä¿®å¾©çš„å…§å®¹

### 1. ä¿®æ”¹ `src/main/resources/static/js/search.js`

**ä¿®å¾©æœå°‹åŠŸèƒ½ï¼š**
```javascript
// ä¿®å¾©å‰ï¼š
const params = new URLSearchParams({
    q: query,
    ...filterParams
});
const data = await window.utils.apiRequest(`/search?${params}`);

// ä¿®å¾©å¾Œï¼š
const hasFilters = filterParams.district || filterParams.features;

if (hasFilters) {
    // ä½¿ç”¨é€²éšæœå°‹ API
    const params = new URLSearchParams({
        keyword: query,
        ...(filterParams.district && { districts: filterParams.district }),
        ...(filterParams.features && { features: filterParams.features })
    });
    data = await window.utils.apiRequest(`/search/advanced?${params}`);
} else {
    // ä½¿ç”¨åŸºç¤æœå°‹ API
    const params = new URLSearchParams({ q: query });
    data = await window.utils.apiRequest(`/search?${params}`);
}
```

**ä¿®å¾©æ¨è–¦åŠŸèƒ½ï¼š**
```javascript
// ä¿®å¾©å‰ï¼š
const params = new URLSearchParams(filterParams);
const data = await window.utils.apiRequest(`/recommendations?${params}`);

// ä¿®å¾©å¾Œï¼š
const params = new URLSearchParams();
if (filterParams.district) {
    params.append('districts', filterParams.district);
}
if (filterParams.features) {
    params.append('features', filterParams.features);
}
const data = await window.utils.apiRequest(`/recommendations?${params}`);
```

## æ¸¬è©¦æ–¹æ³•

### æ–¹æ³• 1: ä½¿ç”¨ç€è¦½å™¨ï¼ˆæ¨è–¦ï¼‰

1. è¨ªå• http://localhost:8080
2. åœ¨æœå°‹æ¡†è¼¸å…¥ï¼š`å’–å•¡`
3. é¸æ“‡åœ°å€ï¼š`å¤§å®‰å€`
4. å‹¾é¸åŠŸèƒ½ï¼š`ä¸é™æ™‚`
5. æŒ‰ä¸‹æœå°‹
6. æ‡‰è©²åªé¡¯ç¤ºå¤§å®‰å€ä¸”ä¸é™æ™‚çš„å’–å•¡å»³

**é æœŸçµæœï¼š**
- çœ‹åˆ°æœå°‹çµæœï¼ˆæ‡‰è©²æœ‰å¹¾é–“å’–å•¡å»³ï¼‰
- æ‰€æœ‰çµæœéƒ½æ˜¯å¤§å®‰å€
- æ‰€æœ‰çµæœéƒ½æœ‰ã€Œä¸é™æ™‚ã€åŠŸèƒ½

### æ–¹æ³• 2: ä½¿ç”¨ API æ¸¬è©¦

åœ¨ PowerShell åŸ·è¡Œï¼š

```powershell
# æ¸¬è©¦åœ°å€ç¯©é¸
Invoke-RestMethod -Uri "http://localhost:8080/api/search/advanced?keyword=å’–å•¡&districts=å¤§å®‰å€"

# æ¸¬è©¦åŠŸèƒ½ç¯©é¸
Invoke-RestMethod -Uri "http://localhost:8080/api/search/advanced?keyword=å’–å•¡&features=ä¸é™æ™‚"

# æ¸¬è©¦è¤‡åˆç¯©é¸
Invoke-RestMethod -Uri "http://localhost:8080/api/search/advanced?keyword=å®‰éœ&districts=å¤§å®‰å€&features=ä¸é™æ™‚,æœ‰æ’åº§"
```

## å‰ç«¯ä½¿ç”¨èªªæ˜

### åœ°å€ç¯©é¸
1. é»æ“Šã€Œè¡Œæ”¿å€ç¯©é¸ã€ä¸‹æ‹‰é¸å–®
2. é¸æ“‡æƒ³è¦çš„åœ°å€ï¼ˆå¦‚ï¼šå¤§å®‰å€ã€ä¸­å±±å€ï¼‰
3. è‡ªå‹•è§¸ç™¼æœå°‹

### åŠŸèƒ½ç¯©é¸
1. å‹¾é¸æƒ³è¦çš„åŠŸèƒ½ï¼ˆå¦‚ï¼šä¸é™æ™‚ã€æœ‰æ’åº§ã€å®‰éœã€wifiï¼‰
2. å¯ä»¥è¤‡é¸å¤šå€‹åŠŸèƒ½
3. è‡ªå‹•è§¸ç™¼æœå°‹
4. åªæœƒé¡¯ç¤º**åŒæ™‚ç¬¦åˆæ‰€æœ‰é¸ä¸­åŠŸèƒ½**çš„å’–å•¡å»³

### è¤‡åˆç¯©é¸
å¯ä»¥åŒæ™‚ä½¿ç”¨åœ°å€ + åŠŸèƒ½ç¯©é¸ï¼š
1. é¸æ“‡åœ°å€ï¼šå¤§å®‰å€
2. å‹¾é¸åŠŸèƒ½ï¼šä¸é™æ™‚ã€æœ‰æ’åº§
3. çµæœï¼šåªé¡¯ç¤ºå¤§å®‰å€å…§åŒæ™‚æœ‰ã€Œä¸é™æ™‚ã€å’Œã€Œæœ‰æ’åº§ã€çš„å’–å•¡å»³

## API ç«¯é»èªªæ˜

### åŸºç¤æœå°‹
```
GET /api/search?q=é—œéµå­—
```

### é€²éšæœå°‹ï¼ˆå¸¶ç¯©é¸ï¼‰
```
GET /api/search/advanced?keyword=é—œéµå­—&districts=åœ°å€&features=åŠŸèƒ½1,åŠŸèƒ½2
```

åƒæ•¸èªªæ˜ï¼š
- `keyword`: æœå°‹é—œéµå­—ï¼ˆå¿…å¡«ï¼‰
- `districts`: åœ°å€ï¼ˆå¯é¸ï¼Œé€—è™Ÿåˆ†éš”å¤šå€‹åœ°å€ï¼‰
- `features`: åŠŸèƒ½ï¼ˆå¯é¸ï¼Œé€—è™Ÿåˆ†éš”å¤šå€‹åŠŸèƒ½ï¼‰

### ç†±é–€æ¨è–¦ï¼ˆå¸¶ç¯©é¸ï¼‰
```
GET /api/recommendations?districts=åœ°å€&features=åŠŸèƒ½1,åŠŸèƒ½2
```

## å¸¸è¦‹å•é¡Œ

### Q1: å‹¾é¸åŠŸèƒ½å¾Œæ²’æœ‰çµæœï¼Ÿ
**å¯èƒ½åŸå› ï¼š**
- æ²’æœ‰å’–å•¡å»³åŒæ™‚ç¬¦åˆæ‰€æœ‰é¸ä¸­çš„åŠŸèƒ½
- å˜—è©¦æ¸›å°‘é¸ä¸­çš„åŠŸèƒ½æ•¸é‡

**è§£æ±ºæ–¹å¼ï¼š**
- åªå‹¾é¸ 1-2 å€‹æœ€é‡è¦çš„åŠŸèƒ½
- å…ˆåªé¸åœ°å€ï¼Œä¸é¸åŠŸèƒ½
- æª¢æŸ¥ Console çš„éŒ¯èª¤è¨Šæ¯ï¼ˆF12 é–‹ç™¼è€…å·¥å…·ï¼‰

### Q2: åœ°å€ç¯©é¸æ²’æœ‰ä½œç”¨ï¼Ÿ
**æª¢æŸ¥é …ç›®ï¼š**
1. ç¢ºèªå·²é‡æ–°æ•´ç†é é¢ï¼ˆCtrl+F5ï¼‰
2. æª¢æŸ¥é¸æ“‡çš„åœ°å€æ˜¯å¦æœ‰å’–å•¡å»³
3. æŸ¥çœ‹ç€è¦½å™¨ Console æ˜¯å¦æœ‰éŒ¯èª¤

### Q3: å¦‚ä½•æ¸…é™¤ç¯©é¸ï¼Ÿ
1. åœ°å€é¸æ“‡ã€Œå…¨éƒ¨åœ°å€ã€
2. å–æ¶ˆå‹¾é¸æ‰€æœ‰åŠŸèƒ½
3. æˆ–ç›´æ¥é‡æ–°æ•´ç†é é¢

## é™¤éŒ¯æ–¹æ³•

### æŸ¥çœ‹ API è«‹æ±‚
åœ¨ç€è¦½å™¨æŒ‰ F12ï¼Œé¸æ“‡ Network æ¨™ç±¤ï¼š
1. åŸ·è¡Œæœå°‹æˆ–ç¯©é¸
2. æŸ¥çœ‹ç™¼é€çš„è«‹æ±‚
3. ç¢ºèª URL å’Œåƒæ•¸æ­£ç¢º

### æŸ¥çœ‹ Console æ—¥èªŒ
åœ¨ç€è¦½å™¨æŒ‰ F12ï¼Œé¸æ“‡ Console æ¨™ç±¤ï¼š
- æ‡‰è©²çœ‹åˆ°é¡ä¼¼è¨Šæ¯ï¼š
  - `ğŸ” Calling advanced search API with filters: keyword=å’–å•¡&districts=å¤§å®‰å€`
  - `âœ… Found 5 results from backend API`

## ä¿®å¾©ç¢ºèªæ¸…å–®

- [x] ä¿®æ”¹ `search.js` - æ­£ç¢ºå‘¼å« `/api/search/advanced`
- [x] ä¿®æ”¹åƒæ•¸åç¨± - `keyword` ä»£æ›¿ `q`ï¼Œ`districts` ä»£æ›¿ `district`
- [x] ä¿®å¾©æ¨è–¦åŠŸèƒ½çš„ç¯©é¸åƒæ•¸å‚³é
- [x] æ·»åŠ è©³ç´°çš„ Console æ—¥èªŒæ–¹ä¾¿é™¤éŒ¯
- [x] å‰µå»ºæ¸¬è©¦è…³æœ¬é©—è­‰ API

## ä¸‹ä¸€æ­¥

1. **é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼**
   ```powershell
   cd "c:\Users\ac316\OneDrive\æ¡Œé¢\HW8_group5\HW8_group5-master"
   .\mvnw.cmd spring-boot:run
   ```

2. **æ¸…é™¤ç€è¦½å™¨å¿«å–**
   - æŒ‰ Ctrl+Shift+R æˆ– Ctrl+F5 å¼·åˆ¶é‡æ–°æ•´ç†

3. **æ¸¬è©¦ç¯©é¸åŠŸèƒ½**
   - è¨ªå• http://localhost:8080
   - å˜—è©¦åœ°å€ç¯©é¸
   - å˜—è©¦åŠŸèƒ½ç¯©é¸
   - æª¢æŸ¥ Console æ—¥èªŒ

---

**ä¿®å¾©å®Œæˆï¼ç¾åœ¨ç¯©é¸åŠŸèƒ½æ‡‰è©²å¯ä»¥æ­£å¸¸é‹ä½œäº†ã€‚** âœ…
